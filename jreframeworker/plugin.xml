<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <!-- New project wizard -->
   <extension point="org.eclipse.ui.newWizards">
      <category name="JReFrameworker" id="jreframeworker.ui.category" />
      <wizard category="jreframeworker.ui.category" class="jreframeworker.ui.NewProjectWizard" icon="icons/JReFrameworker.gif" id="jreframeworker.ui.NewProjectWizard" name="JReFrameworker Runtime Project">
         <description>Creates a new JReFrameworker runtime project in the workspace.</description>
      </wizard>
   </extension>
   
   <!-- A project import wizard -->
   <!--
   <extension
         point="org.eclipse.ui.importWizards">
      <category
            id="jreframeworker.ui.category"
            name="JReFrameworker">
      </category>
      <wizard
            category="jreframeworker.ui.category"
            class="jreframeworker.ui.ImportRuntimeWizard"
            icon="icons/JReFrameworker.gif"
            id="jreframeworker.ui.ImportRuntimeWizard"
            name="JReFrameworker Runtime Project">
         <description>
            Imports an existing JReFrameworker runtime project into the workspace.
         </description>
      </wizard>
   </extension>
   -->
   
   <!-- Project builder -->
   <extension id="JReFrameworkerBuilder" name="JReFrameworker Project Builder" point="org.eclipse.core.resources.builders">
      <builder hasNature="true">
         <run class="jreframeworker.builder.JReFrameworkerBuilder" />
      </builder>
   </extension>
   
   <!-- Project build nature -->
   <extension id="JReFrameworkerNature" name="JReFrameworker Project Nature" point="org.eclipse.core.resources.natures">
      <runtime>
         <run class="jreframeworker.builder.JReFrameworkerNature" />
      </runtime>
      <builder id="jreframeworker.JReFrameworkerBuilder" />
   </extension>
   
   <!-- Project build command -->
   <extension point="org.eclipse.ui.commands">
      <category name="JReFrameworker Project Nature commands" id="jreframeworker.JReFrameworkerNature.category" />
      <command name="Add/RemoveJReFrameworker Project Nature" defaultHandler="jreframeworker.builder.AddRemoveJReFrameworkerNatureHandler" categoryId="jreframeworker.JReFrameworkerNature.category" id="jreframeworker.addRemoveJReFrameworkerNature" />
   </extension>
   
   <!-- Add/remove project build nature -->
   <extension point="org.eclipse.ui.menus">
      <menuContribution locationURI="popup:org.eclipse.ui.projectConfigure?after=additions">
         <command commandId="jreframeworker.addRemoveJReFrameworkerNature" label="Disable JReFrameworker Builder" style="push">
            <visibleWhen checkEnabled="false">
               <with variable="selection">
                  <count value="1" />
                  <iterate>
                     <adapt type="org.eclipse.core.resources.IProject">
                        <test value="jreframeworker.JReFrameworkerNature" property="org.eclipse.core.resources.projectNature" />
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command commandId="jreframeworker.addRemoveJReFrameworkerNature" label="Enable JReFrameworker Builder" style="push">
            <visibleWhen checkEnabled="false">
               <with variable="selection">
                  <count value="1" />
                  <iterate>
                     <adapt type="org.eclipse.core.resources.IProject">
                        <not>
                           <test value="jreframeworker.JReFrameworkerNature" property="org.eclipse.core.resources.projectNature" />
                        </not>
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>
   
   <!-- Preferences page -->
   <extension point="org.eclipse.ui.preferencePages">
      <page class="jreframeworker.ui.PreferencesPage" id="jreframeworker.preferences" name="JReFrameworker" />
   </extension>
   
   <!-- A button that currently does nothing -->
   <extension point="org.eclipse.ui.actionSets">
      <actionSet label="JReFramework" visible="true" id="jreframework.actionSet">
         <menu label="JReFrameworker" id="jreframeworker.menu">
            <separator name="jreframeworker.menu" />
         </menu>
         <action label="JReFrameworker Build Action" icon="icons/JReFrameworker-toolbar.gif" class="jreframeworker.actions.JReFrameworkerAction" tooltip="Build JReFrameworker Project" menubarPath="jreframeworker.menu/jreframeworker.group" toolbarPath="jreframeworker.group" id="jreframeworker.actions.JReFrameworkerAction" />
      </actionSet>
   </extension>
   
   <!-- Launch Profile -->
   <extension point="org.eclipse.debug.core.launchConfigurationTypes">
      <launchConfigurationType 
      	id="jreframeworker.launchConfigurationType" 
      	name="JReFrameworker Application" 
      	delegate="jreframeworker.launcher.LaunchProfileDelegate" 
      	modes="run, debug" />
   </extension>

   <extension point="org.eclipse.debug.ui.launchConfigurationTypeImages">
      <launchConfigurationTypeImage 
      	icon="icons/JReFrameworker.gif"
        configTypeID="jreframeworker.launchConfigurationType"
        id="jreframeworker.launchConfigurationTypeImage" />
   </extension>
   
   <extension point="org.eclipse.debug.ui.launchConfigurationTabGroups">
      <launchConfigurationTabGroup 
      	type="jreframeworker.launchConfigurationType"
      	class="jreframeworker.launcher.TabGroup"
      	id="jreframeworker.launchConfigurationTabGroup" />
   </extension>
  
</plugin>